# =============================================================================
# Better Auth Configuration
# =============================================================================
# Shared secret used for JWT token generation and validation.
# This MUST match the frontend BETTER_AUTH_SECRET exactly.
#
# IMPORTANT: Generate a secure random key with:
#   openssl rand -base64 32
#
# Minimum: 32 characters for security
BETTER_AUTH_SECRET=your-secret-key-here-generate-with-openssl-rand-base64-32

# =============================================================================
# Database Configuration
# =============================================================================
# Neon PostgreSQL Database URL
#
# Format: postgresql+psycopg2://user:password@host/database
#
# Example for Neon:
#   postgresql+psycopg2://todo_user:abc123@ep-cool-darkness-123456.us-east-2.aws.neon.tech/neondb
#
# Notes:
#   - Use postgresql+psycopg2:// for sync operations
#   - SSL is handled automatically by psycopg2 for secure connections
#   - The database will be auto-created if it doesn't exist
#   - Connection pooling is configured in src/db/session.py
DATABASE_URL=postgresql+psycopg2://user:password@host/database

# =============================================================================
# OpenAI API Configuration
# =============================================================================
# OpenAI API Key for AI agent functionality
#
# Get your API key from: https://platform.openai.com/api-keys
#
# This key is used by the Agent service to:
# - Process user messages with conversation context
# - Invoke MCP tools (add_task, list_tasks, etc.) based on user intent
# - Generate natural language responses
#
# Supported models: gpt-4o-mini (default), gpt-4o, gpt-4-turbo
OPENAI_API_KEY=sk-your-openai-api-key-here

# OpenAI model to use for chat completions
# Options: gpt-4o-mini (fast, cost-effective), gpt-4o (more capable), gpt-4-turbo
OPENAI_MODEL=gpt-4o-mini

# =============================================================================
# Application Settings
# =============================================================================
# Application name (used for logging and API documentation)
APP_NAME=Todo API

# Environment (development, staging, production)
ENVIRONMENT=development

# Frontend URL (for CORS configuration)
FRONTEND_URL=http://localhost:3000
# Production frontend URLs
# FRONTEND_URL=https://todo-application-chatbot.vercel.app

# Debug mode (set to False in production)
# When True:
#   - SQL queries are logged
#   - Detailed error messages are shown
#   - CORS allows more origins
# When False:
#   - Production-optimized logging
#   - Generic error messages (security)
#   - Stricter CORS
DEBUG=False

# =============================================================================
# Server Configuration (Optional)
# =============================================================================
# Host and port for uvicorn server
# Default: HOST=0.0.0.0 PORT=8000
# HOST=0.0.0.0
# PORT=8000

# =============================================================================
# Logging Configuration
# =============================================================================
# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Log format (text, json)
LOG_FORMAT=json

# =============================================================================
# Development Notes
# =============================================================================
# 1. Copy this file to .env: cp .env.example .env
# 2. Update values in .env with your actual credentials
# 3. Never commit .env to version control (it's in .gitignore)
# 4. Generate BETTER_AUTH_SECRET with openssl rand -base64 32
# 5. For Neon, get DATABASE_URL from Neon Console: https://console.neon.tech
# 6. DATABASE_URL must use postgresql+psycopg2:// protocol for sync operations

# =============================================================================
# Vercel Deployment Notes
# =============================================================================
# For deploying to Vercel:
# 1. Set these environment variables in Vercel Dashboard:
#    - BETTER_AUTH_SECRET (required for JWT)
#    - DATABASE_URL (your Neon PostgreSQL connection string)
#    - ENVIRONMENT=production
#    - FRONTEND_URL (your Vercel frontend URL)
#    - LOG_LEVEL=INFO
# 2. Vercel will automatically build and deploy using vercel.json configuration
# 3. The API will be available at your Vercel deployment URL
# 4. All routes are handled by api/index.py (Mangum + FastAPI adapter)

